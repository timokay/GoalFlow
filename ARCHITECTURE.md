# GoalFlow - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ü–ª–∞–Ω –ü—Ä–æ–µ–∫—Ç–∞

## üìã –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞

**GoalFlow** - –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª—è–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram –∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥. (–¶–µ–ª—å: –†–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ Excel, –∫–æ—Ç–æ—Ä—É—é –≤–µ–¥—É—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å —Ñ–æ–∫—É—Å–Ω—ã–º–∏ —Ü–µ–ª—è–º–∏ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –∫–∞–∫ –≤ ui clickup)

### –ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

- **–ü–æ–¥—Ö–æ–¥**: Full-stack –Ω–∞ Next.js 14 —Å App Router
- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: AI-first development —Å Cursor AI
- **–°—Ä–æ–∫–∏**: 16-20 –Ω–µ–¥–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–û—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: 8.4/10

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (NextAuth.js)
2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª—è–º–∏ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π
3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ KPI
4. Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
5. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
6. –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Workspace

---

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend

- **Next.js 14** - App Router, Server Components, Streaming
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - Type safety
- **Tailwind CSS** - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **shadcn/ui** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **React Query** - Server state management
- **Zustand** - Client state (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Backend

- **Next.js API Routes** - RESTful API
- **Prisma ORM** - Type-safe database access
- **NextAuth.js** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Zod** - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **tRPC** - Type-safe API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Database

- **PostgreSQL 15+** - –û—Å–Ω–æ–≤–Ω–∞—è –ë–î
- **Supabase** - Managed PostgreSQL
- **Redis/Upstash** - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è)

### External Services

- **grammy.js** - Telegram Bot Framework
- **Resend** - Email –æ—Ç–ø—Ä–∞–≤–∫–∞
- **UploadThing** - –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### Infrastructure

- **Vercel** - Hosting –∏ deployment
- **GitHub Actions** - CI/CD
- **Sentry** - Error tracking (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## üìä –°—Ö–µ–º–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏

```prisma
model User {
  id           String          @id @default(cuid())
  email        String          @unique
  name         String?
  passwordHash String
  telegramId   String?         @unique

  goals        Goal[]
  workspaces   WorkspaceUser[]
  ownedWorkspaces Workspace[]  @relation("WorkspaceOwner")

  createdAt    DateTime        @default(now())
  updatedAt    DateTime        @updatedAt
}

model Workspace {
  id          String          @id @default(cuid())
  name        String
  description String?
  ownerId     String

  owner       User            @relation("WorkspaceOwner", fields: [ownerId], references: [id])
  members     WorkspaceUser[]
  goals       Goal[]

  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt
}

model Goal {
  id          String     @id @default(cuid())
  title       String
  description String?
  status      GoalStatus @default(DRAFT)
  type        GoalType

  ownerId     String
  owner       User       @relation(fields: [ownerId], references: [id])

  workspaceId String
  workspace   Workspace  @relation(fields: [workspaceId], references: [id])

  parentId    String?
  parent      Goal?      @relation("GoalHierarchy", fields: [parentId], references: [id])
  children    Goal[]     @relation("GoalHierarchy")

  metrics     Metric[]

  startDate   DateTime
  endDate     DateTime
  progress    Int        @default(0) // 0-100

  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@index([ownerId, status])
  @@index([workspaceId, status])
  @@index([parentId])
}

model Metric {
  id           String   @id @default(cuid())
  name         String
  currentValue Float    @default(0)
  targetValue  Float
  unit         String

  goalId       String
  goal         Goal     @relation(fields: [goalId], references: [id])

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

enum GoalStatus {
  DRAFT
  ACTIVE
  REVIEW
  COMPLETED
  CANCELLED
}

enum GoalType {
  QUARTERLY
  MONTHLY
  WEEKLY
}

enum WorkspaceRole {
  OWNER
  ADMIN
  MEMBER
  VIEWER
}
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã

- `Goal`: composite indexes –Ω–∞ `(ownerId, status)`, `(workspaceId, status)`, `(endDate, status)`
- `User`: unique indexes –Ω–∞ `email`, `telegramId`
- `WorkspaceUser`: composite unique –Ω–∞ `(userId, workspaceId)`

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
goalflow/
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma          # Database schema
‚îÇ   ‚îú‚îÄ‚îÄ seed.ts                # Seed data
‚îÇ   ‚îî‚îÄ‚îÄ migrations/            # DB migrations
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (auth)/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (dashboard)/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx       # Main dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goals/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ new/page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/page.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings/page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/[...nextauth]/route.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goals/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ route.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/route.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metrics/route.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram/route.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reports/route.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # Landing page
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                # shadcn/ui components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms/             # Form components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ charts/            # Chart components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/            # Layout components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ features/          # Feature-specific components
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ goals/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ workspace/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts            # NextAuth config
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.ts              # Prisma client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.ts           # Utility functions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validations.ts     # Zod schemas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/          # Business logic
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ goalService.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ metricService.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ notificationService.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ telegramService.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goals.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ hooks/
‚îÇ       ‚îú‚îÄ‚îÄ use-goals.ts
‚îÇ       ‚îú‚îÄ‚îÄ use-auth.ts
‚îÇ       ‚îî‚îÄ‚îÄ use-workspace.ts
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/                  # Unit tests
‚îÇ   ‚îú‚îÄ‚îÄ integration/           # Integration tests
‚îÇ   ‚îú‚îÄ‚îÄ e2e/                   # E2E tests
‚îÇ   ‚îî‚îÄ‚îÄ mocks/                 # Mock data
‚îÇ
‚îú‚îÄ‚îÄ .env.local
‚îú‚îÄ‚îÄ .cursorrules
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ package.json
```

---

## üìÖ –ü–ª–∞–Ω –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (16-20 –Ω–µ–¥–µ–ª—å)

### –≠—Ç–∞–ø 0: Setup & Foundation (–ù–µ–¥–µ–ª–∏ 1-2)

**–¶–µ–ª–∏:**

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å –±–∞–∑–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ dev –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ CI/CD
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

**–ó–∞–¥–∞—á–∏:**

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å Next.js 14 –ø—Ä–æ–µ–∫—Ç —Å TypeScript
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ESLint, Prettier, Husky
3. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Prisma + Supabase
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Tailwind CSS + shadcn/ui
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .cursorrules –¥–ª—è AI
7. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions
8. ‚úÖ –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

### –≠—Ç–∞–ø 1.1: Authentication (–ù–µ–¥–µ–ª–∏ 3-4)

**–¶–µ–ª–∏:**

- –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- User management

**–ó–∞–¥–∞—á–∏:**

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å NextAuth.js —Å credentials provider
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å User –º–æ–¥–µ–ª—å –≤ Prisma
3. API endpoints –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏–Ω–∞
4. Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã —Ä–æ—É—Ç–æ–≤
5. Login/Register —Å—Ç—Ä–∞–Ω–∏—Ü—ã
6. Password hashing (bcrypt)
7. Session management
8. User profile —Å—Ç—Ä–∞–Ω–∏—Ü–∞

---

### –≠—Ç–∞–ø 1.2: Database & Goals CRUD (–ù–µ–¥–µ–ª–∏ 5-6)

**–¶–µ–ª–∏:**

- –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ü–µ–ª–µ–π

**–ó–∞–¥–∞—á–∏:**

1. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é Prisma —Å—Ö–µ–º—É (Goal, Metric, Workspace)
2. Database migrations
3. Seed —Å–∫—Ä–∏–ø—Ç—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. API endpoints –¥–ª—è Goals CRUD
5. Zod validation schemas
6. TypeScript —Ç–∏–ø—ã –¥–ª—è Prisma
7. Error handling –≤ API
8. API —Ç–µ—Å—Ç—ã

---

### –≠—Ç–∞–ø 1.3: Basic UI & Dashboard (–ù–µ–¥–µ–ª–∏ 7-8)

**–¶–µ–ª–∏:**

- –ë–∞–∑–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- Dashboard —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

**–ó–∞–¥–∞—á–∏:**

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Navbar, Sidebar)
3. Dashboard page —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
4. Goals list —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
5. Goal creation form
6. Goal detail page
7. Goal edit functionality
8. Responsive design
9. Loading states –∏ —Å–∫–µ–ª–µ—Ç–æ–Ω—ã
10. Error boundaries

---

### –≠—Ç–∞–ø 1.4: Telegram Integration (–ù–µ–¥–µ–ª–∏ 9-10)

**–¶–µ–ª–∏:**

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–æ—Ç–∞

**–ó–∞–¥–∞—á–∏:**

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å grammy.js bot
2. Webhook endpoint –¥–ª—è Telegram
3. User linking (Telegram ID ‚Üî GoalFlow User)
4. Bot –∫–æ–º–∞–Ω–¥—ã: /start, /help, /goals
5. /report –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
6. Notification system –±–∞–∑–æ–≤–∞—è
7. Message templates
8. Bot —Ç–µ—Å—Ç—ã

---

### –≠—Ç–∞–ø 1.5: Goal Hierarchy & Metrics (–ù–µ–¥–µ–ª–∏ 11-12)

**–¶–µ–ª–∏:**

- –ò–µ—Ä–∞—Ä—Ö–∏—è —Ü–µ–ª–µ–π (parent-child)
- –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫

**–ó–∞–¥–∞—á–∏:**

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å parent-child –æ—Ç–Ω–æ—à–µ–Ω–∏—è
2. UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥—Ü–µ–ª–µ–π
3. Goal hierarchy visualizer (–¥–µ—Ä–µ–≤–æ)
4. Progress roll-up (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–æ–¥–∏—Ç–µ–ª—è)
5. Metrics CRUD API
6. Metrics UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
7. Charts –¥–ª—è –º–µ—Ç—Ä–∏–∫ (recharts)
8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏

---

### –≠—Ç–∞–ø 2.1: Analytics & Reports (–ù–µ–¥–µ–ª–∏ 13-14)

**–¶–µ–ª–∏:**

- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏:**

1. Dashboard analytics –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. Goal completion rate charts
3. Team performance metrics
4. Export to PDF/Excel
5. Custom report builder (–±–∞–∑–æ–≤—ã–π)
6. Historical data tracking
7. Trend analysis
8. API endpoints –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

---

### –≠—Ç–∞–ø 2.2: Workspace & Teams (–ù–µ–¥–µ–ª–∏ 15-16)

**–¶–µ–ª–∏:**

- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏

**–ó–∞–¥–∞—á–∏:**

1. Workspace CRUD API
2. Workspace selector UI
3. Team member management
4. Roles & Permissions (RBAC)
5. Workspace settings
6. Invite system (email)
7. Workspace switching
8. Access control middleware

---

### –≠—Ç–∞–ø 3: Notifications & Advanced Features (–ù–µ–¥–µ–ª–∏ 17-18)

**–¶–µ–ª–∏:**

- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

**–ó–∞–¥–∞—á–∏:**

1. Email notifications (Resend)
2. Notification preferences
3. Telegram notifications advanced
4. Deadline reminders
5. Goal templates
6. Bulk operations
7. Search functionality
8. Activity feed

---

### –≠—Ç–∞–ø 4: Testing & Optimization (–ù–µ–¥–µ–ª–∏ 19-20)

**–¶–µ–ª–∏:**

- Comprehensive testing
- Performance optimization
- Production readiness

**–ó–∞–¥–∞—á–∏:**

1. Unit tests (Vitest) - 80% coverage
2. Integration tests - –∫—Ä–∏—Ç–∏—á–Ω—ã–µ flow
3. E2E tests (Playwright) - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
4. Performance optimization
5. Security audit
6. Error tracking setup (Sentry)
7. Analytics setup (Vercel Analytics)
8. Documentation —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –†–µ—à–µ–Ω–∏—è

### 1. Next.js 14 —Å App Router

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- Server Components –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Streaming –∏ Suspense –¥–ª—è –ª—É—á—à–µ–≥–æ UX
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- Built-in API routes

**–û—Ü–µ–Ω–∫–∞: 9/10**

### 2. Prisma ORM

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- Type-safe database access
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
- –û—Ç–ª–∏—á–Ω—ã–π DX

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

- N+1 query problem –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

**–û—Ü–µ–Ω–∫–∞: 8/10**

### 3. –ò–µ—Ä–∞—Ä—Ö–∏—è —Ü–µ–ª–µ–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

- Self-referencing —á–µ—Ä–µ–∑ `parentId`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- Multi-tenancy —á–µ—Ä–µ–∑ Workspace

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å soft delete (`deletedAt`)
- –î–æ–±–∞–≤–∏—Ç—å audit trail
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å denormalization –¥–ª—è progress

**–û—Ü–µ–Ω–∫–∞: 8/10**

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–∏—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Recursive CTE –¥–ª—è PostgreSQL
const goalsWithHierarchy = await prisma.$queryRaw`
  WITH RECURSIVE goal_tree AS (
    SELECT g.*, 1 as level
    FROM "Goal" g
    WHERE g."parentId" IS NULL
    
    UNION ALL
    
    SELECT g.*, gt.level + 1
    FROM "Goal" g
    INNER JOIN goal_tree gt ON g."parentId" = gt.id
  )
  SELECT * FROM goal_tree
  ORDER BY level, title
`;
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
export class GoalService {
  static async updateGoalProgress(goalId: string, progress: number) {
    await prisma.$transaction(async (tx) => {
      await tx.goal.update({
        where: { id: goalId },
        data: { progress },
      });

      const goal = await tx.goal.findUnique({
        where: { id: goalId },
        select: { parentId: true },
      });

      if (goal?.parentId) {
        await this.updateParentProgress(tx, goal.parentId);
      }
    });
  }
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å Telegram –±–æ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å queue (BullMQ) –¥–ª—è background processing
- –ë—ã—Å—Ç—Ä—ã–π response –Ω–∞ webhook (< 5ms)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ–Ω–µ

---

## üìù –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Testing Pyramid

1. **Unit Tests (60%)** - Vitest
   - Utility functions
   - Services
   - Custom hooks
   - Components

2. **Integration Tests (30%)** - Vitest + MSW
   - API endpoints
   - Database operations
   - Service layer integration

3. **E2E Tests (10%)** - Playwright
   - Critical user flows
   - Authentication
   - Goal lifecycle
   - Telegram integration

### –¶–µ–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏—è

- Unit: ‚â• 80%
- Integration: ‚â• 70%
- Overall: ‚â• 70%

---

## üöÄ Deployment & Infrastructure

### Development

```bash
npm run dev          # –ó–∞–ø—É—Å–∫ dev server
npm run db:push      # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã –ë–î
npm run db:seed      # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run test         # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

### Production

```bash
npm run build        # Production build
npm run start        # –ó–∞–ø—É—Å–∫ production server
```

### Environment Variables

```env
# Database
DATABASE_URL="postgresql://..."

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="..."

# Telegram
TELEGRAM_BOT_TOKEN="..."
TELEGRAM_WEBHOOK_SECRET="..."

# Email
RESEND_API_KEY="..."

# Monitoring (optional)
SENTRY_DSN="..."
NEXT_PUBLIC_VERCEL_ANALYTICS_ID="..."
```

### CI/CD Pipeline

1. Lint & Format check
2. Type checking
3. Unit & Integration tests
4. E2E tests (–Ω–∞ staging)
5. Build
6. Deploy –Ω–∞ Vercel

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### MVP (0-1K users)

- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$25/–º–µ—Å—è—Ü
- **–°—Ç–µ–∫**: Vercel Hobby + Supabase Free
- **RPS**: ~100 requests/minute

### Growth (1K-10K users)

- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$80/–º–µ—Å—è—Ü
- **–°—Ç–µ–∫**: Vercel Pro + Supabase Pro
- **RPS**: ~1,000 requests/minute
- **–¢—Ä–µ–±—É–µ—Ç—Å—è**:
  - Redis caching (Upstash)
  - Rate limiting
  - Query optimization

### Scale (10K-100K users)

- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$500-1000/–º–µ—Å—è—Ü
- **–°—Ç–µ–∫**: Vercel Enterprise + Dedicated DB
- **RPS**: ~10,000 requests/minute
- **–¢—Ä–µ–±—É–µ—Ç—Å—è**:
  - CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
  - Database read replicas
  - Background job queue
  - Microservices (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚úÖ Production Checklist

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] Rate limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Upstash)
- [ ] Input validation –≤–µ–∑–¥–µ (Zod)
- [ ] CSRF protection
- [ ] Security headers (helmet)
- [ ] SQL injection protection (Prisma)
- [ ] XSS protection
- [ ] Audit logging

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- [ ] Database indexes –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Caching layer –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Image optimization (Next.js)
- [ ] Bundle size –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] API response compression

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] Error tracking (Sentry)
- [ ] Performance monitoring (Vercel Analytics)
- [ ] Logging infrastructure
- [ ] Uptime monitoring
- [ ] Database monitoring

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] Unit tests: ‚â• 80% coverage
- [ ] Integration tests: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ flows
- [ ] E2E tests: –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] Load testing –ø—Ä–æ–≤–µ–¥–µ–Ω
- [ ] Security audit –≤—ã–ø–æ–ª–Ω–µ–Ω

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å comprehensive .cursorrules
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å seed data –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å mock data –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –î–æ –∑–∞–ø—É—Å–∫–∞ production

1. üî∏ –ü—Ä–æ–≤–µ—Å—Ç–∏ security audit (OWASP Top 10)
2. üî∏ –í—ã–ø–æ–ª–Ω–∏—Ç—å load testing
3. üî∏ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
4. üî∏ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è API

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

1. üìä –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2. üêõ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (Sentry)
3. üí¨ –°–æ–±–∏—Ä–∞—Ç—å feedback –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. üîÑ –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –û—Ü–µ–Ω–∫–∞

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: 8.4/10** ‚≠ê‚≠ê‚≠ê‚≠ê

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**

- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π Developer Experience
- ‚úÖ Comprehensive testing strategy
- ‚úÖ –•–æ—Ä–æ—à–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ AI-friendly –ø–æ–¥—Ö–æ–¥

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**

- ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–µ—Ä–∞—Ä—Ö–∏–π
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å rate limiting
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å security hardening
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–í—ã–≤–æ–¥**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–∞ –¥–ª—è solo-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º. –í—ã–±—Ä–∞–Ω–Ω—ã–π Next.js –ø–æ–¥—Ö–æ–¥ –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∏—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≥–ª—É–±–æ–∫–∏–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è–º–∏ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–î–∞—Ç–∞**: 11.11.2025  
**–ì–æ—Ç–æ–≤–æ –∫ —Å—Ç–∞—Ä—Ç—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ‚úÖ
